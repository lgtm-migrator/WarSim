{"id":"IWhW","dependencies":[{"name":"/home/milord/Projects/WarSim/package.json","includedInParent":true,"mtime":1566507392150}],"generated":{"js":"\"use strict\";exports.__esModule=!0;var t=function(){function t(t){this.engine=t,this.health=100,this.coins=1,this.name=\"\",this.unitType=\"\",this.location={x:0,y:0},this.teamIndex=0,this.state=\"IDLE\",this.movementSpeed=30,this.attackTarget=null,this.attackRadius=30,this.attackSpeed=60,this.attackDamage=20,this.stateTimer={idle:!1,charge:!1,fight:!1}}return t.prototype.init=function(){this.changeState()},t.prototype.tick=function(){this.health<=0&&(delete this.engine.unitStack[this.uuid],this.attackTarget=null,this.state=\"NONE\")},t.prototype.idle=function(){var t=this;\"IDLE\"===this.state&&this.health>0&&(this.moveForward(),this.detectEnemy(),!1===this.stateTimer.idle&&(this.stateTimer.idle=!0,setTimeout(function(){t.stateTimer.idle=!1,t.idle()},this.movementSpeed)))},t.prototype.charge=function(){var t=this;\"CHARGE\"===this.state&&this.health>0&&(this.moveTowardEnemyUnit(),!1===this.stateTimer.charge&&(this.stateTimer.charge=!0,setTimeout(function(){t.stateTimer.charge=!1,t.charge()},this.movementSpeed)))},t.prototype.fight=function(){var t=this;\"FIGHT\"===this.state&&this.health>0&&(this.attackEnemyUnit(),!1===this.stateTimer.fight&&(this.stateTimer.fight=!0,setTimeout(function(){t.stateTimer.fight=!1,t.fight()},this.attackSpeed)))},t.prototype.changeState=function(){\"IDLE\"===this.state&&this.idle(),\"CHARGE\"===this.state&&this.charge(),\"FIGHT\"===this.state&&this.fight()},t.prototype.moveForward=function(){1===this.teamIndex?this.location.y-=1:this.location.y+=1,(this.location.y>this.engine.canvas.height||this.location.y<0)&&(this.health=0)},t.prototype.moveTowardEnemyUnit=function(){if(this.attackTarget){var t={x:!1,y:!1};this.location.x>this.attackTarget.location.x+6||this.location.x<this.attackTarget.location.x-6?this.attackTarget.location.x>this.location.x?this.location.x+=1:this.attackTarget.location.x<this.location.x&&(this.location.x-=1):t.x=!0,this.location.y>this.attackTarget.location.y+6||this.location.y<this.attackTarget.location.y-6?this.attackTarget.location.y>this.location.y?this.location.y+=1:this.attackTarget.location.y<this.location.y&&(this.location.y-=1):t.y=!0,!0===t.x&&!0===t.y&&(this.state=\"FIGHT\",this.changeState())}else this.state=\"IDLE\",this.changeState()},t.prototype.attackEnemyUnit=function(){this.attackTarget?(this.attackTarget.health>0&&(\"melee\"===this.unitType?this.attackTarget.health=Math.round(this.attackTarget.health-this.attackDamage):\"ranged\"===this.unitType&&console.log(\"ranged\")),this.attackTarget.health<=0&&(this.state=\"IDLE\",this.changeState())):(this.state=\"IDLE\",this.changeState())},t.prototype.detectEnemy=function(){var t=this,i=function(){Object.keys(t.engine.unitStack);for(var i in t.engine.unitStack){var a=t.engine.unitStack[i];return Math.pow(a.location.x-t.location.x,2)+Math.pow(a.location.y-t.location.y,2)<Math.pow(2*t.attackRadius,2)&&a.teamIndex!==t.teamIndex?a:void 0}}();i&&i.health>0&&(this.attackTarget=i,this.state=\"CHARGE\",this.changeState())},t}();exports.Base=t;"},"sourceMaps":{"js":{"mappings":[{"source":"js/base.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":0}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":13}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":21}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":33}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":35}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":39}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":41}},{"source":"js/base.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":52}},{"source":"js/base.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":61}},{"source":"js/base.ts","name":null,"original":{"line":21,"column":16},"generated":{"line":1,"column":63}},{"source":"js/base.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":66}},{"source":"js/base.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":71}},{"source":"js/base.ts","name":null,"original":{"line":22,"column":22},"generated":{"line":1,"column":78}},{"source":"js/base.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":80}},{"source":"js/base.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":85}},{"source":"js/base.ts","name":null,"original":{"line":23,"column":22},"generated":{"line":1,"column":92}},{"source":"js/base.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":1,"column":96}},{"source":"js/base.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":1,"column":101}},{"source":"js/base.ts","name":null,"original":{"line":24,"column":21},"generated":{"line":1,"column":107}},{"source":"js/base.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":1,"column":109}},{"source":"js/base.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":1,"column":114}},{"source":"js/base.ts","name":null,"original":{"line":25,"column":20},"generated":{"line":1,"column":119}},{"source":"js/base.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":122}},{"source":"js/base.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":127}},{"source":"js/base.ts","name":null,"original":{"line":26,"column":24},"generated":{"line":1,"column":136}},{"source":"js/base.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":139}},{"source":"js/base.ts","name":null,"original":{"line":27,"column":13},"generated":{"line":1,"column":144}},{"source":"js/base.ts","name":null,"original":{"line":27,"column":24},"generated":{"line":1,"column":153}},{"source":"js/base.ts","name":null,"original":{"line":27,"column":25},"generated":{"line":1,"column":154}},{"source":"js/base.ts","name":null,"original":{"line":27,"column":28},"generated":{"line":1,"column":156}},{"source":"js/base.ts","name":null,"original":{"line":27,"column":31},"generated":{"line":1,"column":158}},{"source":"js/base.ts","name":null,"original":{"line":27,"column":34},"generated":{"line":1,"column":160}},{"source":"js/base.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":163}},{"source":"js/base.ts","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":168}},{"source":"js/base.ts","name":null,"original":{"line":28,"column":25},"generated":{"line":1,"column":178}},{"source":"js/base.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":1,"column":180}},{"source":"js/base.ts","name":null,"original":{"line":29,"column":13},"generated":{"line":1,"column":185}},{"source":"js/base.ts","name":null,"original":{"line":29,"column":21},"generated":{"line":1,"column":191}},{"source":"js/base.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":1,"column":198}},{"source":"js/base.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":1,"column":203}},{"source":"js/base.ts","name":null,"original":{"line":31,"column":29},"generated":{"line":1,"column":217}},{"source":"js/base.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":220}},{"source":"js/base.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":225}},{"source":"js/base.ts","name":null,"original":{"line":32,"column":28},"generated":{"line":1,"column":238}},{"source":"js/base.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":243}},{"source":"js/base.ts","name":null,"original":{"line":33,"column":13},"generated":{"line":1,"column":248}},{"source":"js/base.ts","name":null,"original":{"line":33,"column":28},"generated":{"line":1,"column":261}},{"source":"js/base.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":1,"column":264}},{"source":"js/base.ts","name":null,"original":{"line":34,"column":13},"generated":{"line":1,"column":269}},{"source":"js/base.ts","name":null,"original":{"line":34,"column":27},"generated":{"line":1,"column":281}},{"source":"js/base.ts","name":null,"original":{"line":35,"column":13},"generated":{"line":1,"column":284}},{"source":"js/base.ts","name":null,"original":{"line":35,"column":13},"generated":{"line":1,"column":289}},{"source":"js/base.ts","name":null,"original":{"line":35,"column":28},"generated":{"line":1,"column":302}},{"source":"js/base.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":305}},{"source":"js/base.ts","name":null,"original":{"line":36,"column":13},"generated":{"line":1,"column":310}},{"source":"js/base.ts","name":null,"original":{"line":36,"column":26},"generated":{"line":1,"column":321}},{"source":"js/base.ts","name":null,"original":{"line":36,"column":27},"generated":{"line":1,"column":322}},{"source":"js/base.ts","name":null,"original":{"line":36,"column":33},"generated":{"line":1,"column":328}},{"source":"js/base.ts","name":null,"original":{"line":36,"column":40},"generated":{"line":1,"column":330}},{"source":"js/base.ts","name":null,"original":{"line":36,"column":48},"generated":{"line":1,"column":338}},{"source":"js/base.ts","name":null,"original":{"line":36,"column":55},"generated":{"line":1,"column":340}},{"source":"js/base.ts","name":null,"original":{"line":36,"column":62},"generated":{"line":1,"column":347}},{"source":"js/base.ts","name":null,"original":{"line":197,"column":0},"generated":{"line":1,"column":350}},{"source":"js/base.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":357}},{"source":"js/base.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":359}},{"source":"js/base.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":369}},{"source":"js/base.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":374}},{"source":"js/base.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":385}},{"source":"js/base.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":390}},{"source":"js/base.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":1,"column":405}},{"source":"js/base.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":1,"column":407}},{"source":"js/base.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":1,"column":417}},{"source":"js/base.ts","name":null,"original":{"line":49,"column":4},"generated":{"line":1,"column":422}},{"source":"js/base.ts","name":null,"original":{"line":50,"column":10},"generated":{"line":1,"column":433}},{"source":"js/base.ts","name":null,"original":{"line":50,"column":15},"generated":{"line":1,"column":438}},{"source":"js/base.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":446}},{"source":"js/base.ts","name":null,"original":{"line":51,"column":15},"generated":{"line":1,"column":457}},{"source":"js/base.ts","name":null,"original":{"line":51,"column":20},"generated":{"line":1,"column":462}},{"source":"js/base.ts","name":null,"original":{"line":51,"column":27},"generated":{"line":1,"column":469}},{"source":"js/base.ts","name":null,"original":{"line":51,"column":37},"generated":{"line":1,"column":479}},{"source":"js/base.ts","name":null,"original":{"line":51,"column":42},"generated":{"line":1,"column":484}},{"source":"js/base.ts","name":null,"original":{"line":52,"column":13},"generated":{"line":1,"column":490}},{"source":"js/base.ts","name":null,"original":{"line":52,"column":13},"generated":{"line":1,"column":495}},{"source":"js/base.ts","name":null,"original":{"line":52,"column":28},"generated":{"line":1,"column":508}},{"source":"js/base.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":513}},{"source":"js/base.ts","name":null,"original":{"line":53,"column":13},"generated":{"line":1,"column":518}},{"source":"js/base.ts","name":null,"original":{"line":53,"column":21},"generated":{"line":1,"column":524}},{"source":"js/base.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":533}},{"source":"js/base.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":535}},{"source":"js/base.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":545}},{"source":"js/base.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":550}},{"source":"js/base.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":561}},{"source":"js/base.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":565}},{"source":"js/base.ts","name":null,"original":{"line":58,"column":4},"generated":{"line":1,"column":567}},{"source":"js/base.ts","name":null,"original":{"line":59,"column":27},"generated":{"line":1,"column":572}},{"source":"js/base.ts","name":null,"original":{"line":59,"column":12},"generated":{"line":1,"column":581}},{"source":"js/base.ts","name":null,"original":{"line":59,"column":17},"generated":{"line":1,"column":586}},{"source":"js/base.ts","name":null,"original":{"line":59,"column":37},"generated":{"line":1,"column":593}},{"source":"js/base.ts","name":null,"original":{"line":59,"column":42},"generated":{"line":1,"column":598}},{"source":"js/base.ts","name":null,"original":{"line":59,"column":51},"generated":{"line":1,"column":605}},{"source":"js/base.ts","name":null,"original":{"line":60,"column":15},"generated":{"line":1,"column":609}},{"source":"js/base.ts","name":null,"original":{"line":60,"column":15},"generated":{"line":1,"column":614}},{"source":"js/base.ts","name":null,"original":{"line":61,"column":15},"generated":{"line":1,"column":628}},{"source":"js/base.ts","name":null,"original":{"line":61,"column":15},"generated":{"line":1,"column":633}},{"source":"js/base.ts","name":null,"original":{"line":62,"column":39},"generated":{"line":1,"column":648}},{"source":"js/base.ts","name":null,"original":{"line":62,"column":14},"generated":{"line":1,"column":652}},{"source":"js/base.ts","name":null,"original":{"line":62,"column":19},"generated":{"line":1,"column":657}},{"source":"js/base.ts","name":null,"original":{"line":62,"column":30},"generated":{"line":1,"column":668}},{"source":"js/base.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":675}},{"source":"js/base.ts","name":null,"original":{"line":63,"column":17},"generated":{"line":1,"column":680}},{"source":"js/base.ts","name":null,"original":{"line":63,"column":28},"generated":{"line":1,"column":691}},{"source":"js/base.ts","name":null,"original":{"line":63,"column":35},"generated":{"line":1,"column":697}},{"source":"js/base.ts","name":null,"original":{"line":64,"column":12},"generated":{"line":1,"column":699}},{"source":"js/base.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":710}},{"source":"js/base.ts","name":null,"original":{"line":65,"column":14},"generated":{"line":1,"column":721}},{"source":"js/base.ts","name":null,"original":{"line":65,"column":19},"generated":{"line":1,"column":723}},{"source":"js/base.ts","name":null,"original":{"line":65,"column":30},"generated":{"line":1,"column":734}},{"source":"js/base.ts","name":null,"original":{"line":65,"column":37},"generated":{"line":1,"column":740}},{"source":"js/base.ts","name":null,"original":{"line":66,"column":14},"generated":{"line":1,"column":742}},{"source":"js/base.ts","name":null,"original":{"line":66,"column":19},"generated":{"line":1,"column":744}},{"source":"js/base.ts","name":null,"original":{"line":67,"column":15},"generated":{"line":1,"column":752}},{"source":"js/base.ts","name":null,"original":{"line":67,"column":20},"generated":{"line":1,"column":757}},{"source":"js/base.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":775}},{"source":"js/base.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":777}},{"source":"js/base.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":787}},{"source":"js/base.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":794}},{"source":"js/base.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":805}},{"source":"js/base.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":809}},{"source":"js/base.ts","name":null,"original":{"line":72,"column":4},"generated":{"line":1,"column":811}},{"source":"js/base.ts","name":null,"original":{"line":73,"column":27},"generated":{"line":1,"column":816}},{"source":"js/base.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":1,"column":827}},{"source":"js/base.ts","name":null,"original":{"line":73,"column":17},"generated":{"line":1,"column":832}},{"source":"js/base.ts","name":null,"original":{"line":73,"column":39},"generated":{"line":1,"column":839}},{"source":"js/base.ts","name":null,"original":{"line":73,"column":44},"generated":{"line":1,"column":844}},{"source":"js/base.ts","name":null,"original":{"line":73,"column":53},"generated":{"line":1,"column":851}},{"source":"js/base.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":855}},{"source":"js/base.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":860}},{"source":"js/base.ts","name":null,"original":{"line":75,"column":41},"generated":{"line":1,"column":883}},{"source":"js/base.ts","name":null,"original":{"line":75,"column":14},"generated":{"line":1,"column":887}},{"source":"js/base.ts","name":null,"original":{"line":75,"column":19},"generated":{"line":1,"column":892}},{"source":"js/base.ts","name":null,"original":{"line":75,"column":30},"generated":{"line":1,"column":903}},{"source":"js/base.ts","name":null,"original":{"line":76,"column":17},"generated":{"line":1,"column":912}},{"source":"js/base.ts","name":null,"original":{"line":76,"column":17},"generated":{"line":1,"column":917}},{"source":"js/base.ts","name":null,"original":{"line":76,"column":28},"generated":{"line":1,"column":928}},{"source":"js/base.ts","name":null,"original":{"line":76,"column":37},"generated":{"line":1,"column":936}},{"source":"js/base.ts","name":null,"original":{"line":77,"column":12},"generated":{"line":1,"column":938}},{"source":"js/base.ts","name":null,"original":{"line":77,"column":23},"generated":{"line":1,"column":949}},{"source":"js/base.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":1,"column":960}},{"source":"js/base.ts","name":null,"original":{"line":78,"column":19},"generated":{"line":1,"column":962}},{"source":"js/base.ts","name":null,"original":{"line":78,"column":30},"generated":{"line":1,"column":973}},{"source":"js/base.ts","name":null,"original":{"line":78,"column":39},"generated":{"line":1,"column":981}},{"source":"js/base.ts","name":null,"original":{"line":79,"column":14},"generated":{"line":1,"column":983}},{"source":"js/base.ts","name":null,"original":{"line":79,"column":19},"generated":{"line":1,"column":985}},{"source":"js/base.ts","name":null,"original":{"line":80,"column":15},"generated":{"line":1,"column":995}},{"source":"js/base.ts","name":null,"original":{"line":80,"column":20},"generated":{"line":1,"column":1000}},{"source":"js/base.ts","name":null,"original":{"line":85,"column":6},"generated":{"line":1,"column":1018}},{"source":"js/base.ts","name":null,"original":{"line":85,"column":6},"generated":{"line":1,"column":1020}},{"source":"js/base.ts","name":null,"original":{"line":85,"column":6},"generated":{"line":1,"column":1030}},{"source":"js/base.ts","name":null,"original":{"line":85,"column":6},"generated":{"line":1,"column":1036}},{"source":"js/base.ts","name":null,"original":{"line":85,"column":6},"generated":{"line":1,"column":1047}},{"source":"js/base.ts","name":null,"original":{"line":85,"column":6},"generated":{"line":1,"column":1051}},{"source":"js/base.ts","name":null,"original":{"line":85,"column":6},"generated":{"line":1,"column":1053}},{"source":"js/base.ts","name":null,"original":{"line":86,"column":27},"generated":{"line":1,"column":1058}},{"source":"js/base.ts","name":null,"original":{"line":86,"column":12},"generated":{"line":1,"column":1068}},{"source":"js/base.ts","name":null,"original":{"line":86,"column":17},"generated":{"line":1,"column":1073}},{"source":"js/base.ts","name":null,"original":{"line":86,"column":38},"generated":{"line":1,"column":1080}},{"source":"js/base.ts","name":null,"original":{"line":86,"column":43},"generated":{"line":1,"column":1085}},{"source":"js/base.ts","name":null,"original":{"line":86,"column":52},"generated":{"line":1,"column":1092}},{"source":"js/base.ts","name":null,"original":{"line":87,"column":15},"generated":{"line":1,"column":1096}},{"source":"js/base.ts","name":null,"original":{"line":87,"column":15},"generated":{"line":1,"column":1101}},{"source":"js/base.ts","name":null,"original":{"line":88,"column":40},"generated":{"line":1,"column":1120}},{"source":"js/base.ts","name":null,"original":{"line":88,"column":14},"generated":{"line":1,"column":1124}},{"source":"js/base.ts","name":null,"original":{"line":88,"column":19},"generated":{"line":1,"column":1129}},{"source":"js/base.ts","name":null,"original":{"line":88,"column":30},"generated":{"line":1,"column":1140}},{"source":"js/base.ts","name":null,"original":{"line":89,"column":17},"generated":{"line":1,"column":1148}},{"source":"js/base.ts","name":null,"original":{"line":89,"column":17},"generated":{"line":1,"column":1153}},{"source":"js/base.ts","name":null,"original":{"line":89,"column":28},"generated":{"line":1,"column":1164}},{"source":"js/base.ts","name":null,"original":{"line":89,"column":36},"generated":{"line":1,"column":1171}},{"source":"js/base.ts","name":null,"original":{"line":90,"column":12},"generated":{"line":1,"column":1173}},{"source":"js/base.ts","name":null,"original":{"line":90,"column":23},"generated":{"line":1,"column":1184}},{"source":"js/base.ts","name":null,"original":{"line":91,"column":14},"generated":{"line":1,"column":1195}},{"source":"js/base.ts","name":null,"original":{"line":91,"column":19},"generated":{"line":1,"column":1197}},{"source":"js/base.ts","name":null,"original":{"line":91,"column":30},"generated":{"line":1,"column":1208}},{"source":"js/base.ts","name":null,"original":{"line":91,"column":38},"generated":{"line":1,"column":1215}},{"source":"js/base.ts","name":null,"original":{"line":92,"column":14},"generated":{"line":1,"column":1217}},{"source":"js/base.ts","name":null,"original":{"line":92,"column":19},"generated":{"line":1,"column":1219}},{"source":"js/base.ts","name":null,"original":{"line":93,"column":15},"generated":{"line":1,"column":1228}},{"source":"js/base.ts","name":null,"original":{"line":93,"column":20},"generated":{"line":1,"column":1233}},{"source":"js/base.ts","name":null,"original":{"line":98,"column":4},"generated":{"line":1,"column":1249}},{"source":"js/base.ts","name":null,"original":{"line":98,"column":4},"generated":{"line":1,"column":1251}},{"source":"js/base.ts","name":null,"original":{"line":98,"column":4},"generated":{"line":1,"column":1261}},{"source":"js/base.ts","name":null,"original":{"line":98,"column":4},"generated":{"line":1,"column":1273}},{"source":"js/base.ts","name":null,"original":{"line":99,"column":27},"generated":{"line":1,"column":1284}},{"source":"js/base.ts","name":null,"original":{"line":99,"column":12},"generated":{"line":1,"column":1293}},{"source":"js/base.ts","name":null,"original":{"line":99,"column":17},"generated":{"line":1,"column":1298}},{"source":"js/base.ts","name":null,"original":{"line":100,"column":15},"generated":{"line":1,"column":1305}},{"source":"js/base.ts","name":null,"original":{"line":100,"column":15},"generated":{"line":1,"column":1310}},{"source":"js/base.ts","name":null,"original":{"line":102,"column":27},"generated":{"line":1,"column":1317}},{"source":"js/base.ts","name":null,"original":{"line":102,"column":12},"generated":{"line":1,"column":1328}},{"source":"js/base.ts","name":null,"original":{"line":102,"column":17},"generated":{"line":1,"column":1333}},{"source":"js/base.ts","name":null,"original":{"line":103,"column":15},"generated":{"line":1,"column":1340}},{"source":"js/base.ts","name":null,"original":{"line":103,"column":15},"generated":{"line":1,"column":1345}},{"source":"js/base.ts","name":null,"original":{"line":105,"column":27},"generated":{"line":1,"column":1354}},{"source":"js/base.ts","name":null,"original":{"line":105,"column":12},"generated":{"line":1,"column":1364}},{"source":"js/base.ts","name":null,"original":{"line":105,"column":17},"generated":{"line":1,"column":1369}},{"source":"js/base.ts","name":null,"original":{"line":106,"column":15},"generated":{"line":1,"column":1376}},{"source":"js/base.ts","name":null,"original":{"line":106,"column":15},"generated":{"line":1,"column":1381}},{"source":"js/base.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":1,"column":1390}},{"source":"js/base.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":1,"column":1392}},{"source":"js/base.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":1,"column":1402}},{"source":"js/base.ts","name":null,"original":{"line":110,"column":4},"generated":{"line":1,"column":1414}},{"source":"js/base.ts","name":null,"original":{"line":111,"column":31},"generated":{"line":1,"column":1425}},{"source":"js/base.ts","name":null,"original":{"line":111,"column":12},"generated":{"line":1,"column":1429}},{"source":"js/base.ts","name":null,"original":{"line":111,"column":17},"generated":{"line":1,"column":1434}},{"source":"js/base.ts","name":null,"original":{"line":112,"column":15},"generated":{"line":1,"column":1444}},{"source":"js/base.ts","name":null,"original":{"line":112,"column":15},"generated":{"line":1,"column":1449}},{"source":"js/base.ts","name":null,"original":{"line":112,"column":24},"generated":{"line":1,"column":1458}},{"source":"js/base.ts","name":null,"original":{"line":112,"column":29},"generated":{"line":1,"column":1461}},{"source":"js/base.ts","name":null,"original":{"line":114,"column":15},"generated":{"line":1,"column":1463}},{"source":"js/base.ts","name":null,"original":{"line":114,"column":15},"generated":{"line":1,"column":1468}},{"source":"js/base.ts","name":null,"original":{"line":114,"column":24},"generated":{"line":1,"column":1477}},{"source":"js/base.ts","name":null,"original":{"line":114,"column":29},"generated":{"line":1,"column":1480}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":12},"generated":{"line":1,"column":1483}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":17},"generated":{"line":1,"column":1488}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":26},"generated":{"line":1,"column":1497}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":30},"generated":{"line":1,"column":1499}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":35},"generated":{"line":1,"column":1504}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":42},"generated":{"line":1,"column":1511}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":49},"generated":{"line":1,"column":1518}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":59},"generated":{"line":1,"column":1526}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":64},"generated":{"line":1,"column":1531}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":73},"generated":{"line":1,"column":1540}},{"source":"js/base.ts","name":null,"original":{"line":118,"column":77},"generated":{"line":1,"column":1542}},{"source":"js/base.ts","name":null,"original":{"line":119,"column":15},"generated":{"line":1,"column":1547}},{"source":"js/base.ts","name":null,"original":{"line":119,"column":15},"generated":{"line":1,"column":1552}},{"source":"js/base.ts","name":null,"original":{"line":119,"column":24},"generated":{"line":1,"column":1559}},{"source":"js/base.ts","name":null,"original":{"line":123,"column":4},"generated":{"line":1,"column":1563}},{"source":"js/base.ts","name":null,"original":{"line":123,"column":4},"generated":{"line":1,"column":1565}},{"source":"js/base.ts","name":null,"original":{"line":123,"column":4},"generated":{"line":1,"column":1575}},{"source":"js/base.ts","name":null,"original":{"line":123,"column":4},"generated":{"line":1,"column":1595}},{"source":"js/base.ts","name":null,"original":{"line":124,"column":12},"generated":{"line":1,"column":1606}},{"source":"js/base.ts","name":null,"original":{"line":124,"column":12},"generated":{"line":1,"column":1609}},{"source":"js/base.ts","name":null,"original":{"line":124,"column":17},"generated":{"line":1,"column":1614}},{"source":"js/base.ts","name":null,"original":{"line":124,"column":31},"generated":{"line":1,"column":1627}},{"source":"js/base.ts","name":null,"original":{"line":125,"column":16},"generated":{"line":1,"column":1628}},{"source":"js/base.ts","name":null,"original":{"line":125,"column":16},"generated":{"line":1,"column":1632}},{"source":"js/base.ts","name":null,"original":{"line":125,"column":26},"generated":{"line":1,"column":1634}},{"source":"js/base.ts","name":null,"original":{"line":125,"column":27},"generated":{"line":1,"column":1635}},{"source":"js/base.ts","name":null,"original":{"line":125,"column":30},"generated":{"line":1,"column":1638}},{"source":"js/base.ts","name":null,"original":{"line":125,"column":37},"generated":{"line":1,"column":1640}},{"source":"js/base.ts","name":null,"original":{"line":125,"column":40},"generated":{"line":1,"column":1643}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":14},"generated":{"line":1,"column":1646}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":19},"generated":{"line":1,"column":1651}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":28},"generated":{"line":1,"column":1660}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":32},"generated":{"line":1,"column":1662}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":37},"generated":{"line":1,"column":1667}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":50},"generated":{"line":1,"column":1680}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":59},"generated":{"line":1,"column":1689}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":63},"generated":{"line":1,"column":1691}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":68},"generated":{"line":1,"column":1694}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":73},"generated":{"line":1,"column":1699}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":82},"generated":{"line":1,"column":1708}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":86},"generated":{"line":1,"column":1710}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":91},"generated":{"line":1,"column":1715}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":104},"generated":{"line":1,"column":1728}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":113},"generated":{"line":1,"column":1737}},{"source":"js/base.ts","name":null,"original":{"line":126,"column":117},"generated":{"line":1,"column":1739}},{"source":"js/base.ts","name":null,"original":{"line":127,"column":16},"generated":{"line":1,"column":1741}},{"source":"js/base.ts","name":null,"original":{"line":127,"column":21},"generated":{"line":1,"column":1746}},{"source":"js/base.ts","name":null,"original":{"line":127,"column":34},"generated":{"line":1,"column":1759}},{"source":"js/base.ts","name":null,"original":{"line":127,"column":43},"generated":{"line":1,"column":1768}},{"source":"js/base.ts","name":null,"original":{"line":127,"column":47},"generated":{"line":1,"column":1770}},{"source":"js/base.ts","name":null,"original":{"line":127,"column":52},"generated":{"line":1,"column":1775}},{"source":"js/base.ts","name":null,"original":{"line":127,"column":61},"generated":{"line":1,"column":1784}},{"source":"js/base.ts","name":null,"original":{"line":128,"column":19},"generated":{"line":1,"column":1786}},{"source":"js/base.ts","name":null,"original":{"line":128,"column":19},"generated":{"line":1,"column":1791}},{"source":"js/base.ts","name":null,"original":{"line":128,"column":28},"generated":{"line":1,"column":1800}},{"source":"js/base.ts","name":null,"original":{"line":128,"column":33},"generated":{"line":1,"column":1803}},{"source":"js/base.ts","name":null,"original":{"line":129,"column":23},"generated":{"line":1,"column":1805}},{"source":"js/base.ts","name":null,"original":{"line":129,"column":28},"generated":{"line":1,"column":1810}},{"source":"js/base.ts","name":null,"original":{"line":129,"column":41},"generated":{"line":1,"column":1823}},{"source":"js/base.ts","name":null,"original":{"line":129,"column":50},"generated":{"line":1,"column":1832}},{"source":"js/base.ts","name":null,"original":{"line":129,"column":54},"generated":{"line":1,"column":1834}},{"source":"js/base.ts","name":null,"original":{"line":129,"column":59},"generated":{"line":1,"column":1839}},{"source":"js/base.ts","name":null,"original":{"line":129,"column":68},"generated":{"line":1,"column":1848}},{"source":"js/base.ts","name":null,"original":{"line":130,"column":19},"generated":{"line":1,"column":1852}},{"source":"js/base.ts","name":null,"original":{"line":130,"column":19},"generated":{"line":1,"column":1857}},{"source":"js/base.ts","name":null,"original":{"line":130,"column":28},"generated":{"line":1,"column":1866}},{"source":"js/base.ts","name":null,"original":{"line":130,"column":33},"generated":{"line":1,"column":1869}},{"source":"js/base.ts","name":null,"original":{"line":133,"column":12},"generated":{"line":1,"column":1872}},{"source":"js/base.ts","name":null,"original":{"line":133,"column":20},"generated":{"line":1,"column":1874}},{"source":"js/base.ts","name":null,"original":{"line":133,"column":24},"generated":{"line":1,"column":1877}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":14},"generated":{"line":1,"column":1879}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":19},"generated":{"line":1,"column":1884}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":28},"generated":{"line":1,"column":1893}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":32},"generated":{"line":1,"column":1895}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":37},"generated":{"line":1,"column":1900}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":50},"generated":{"line":1,"column":1913}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":59},"generated":{"line":1,"column":1922}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":63},"generated":{"line":1,"column":1924}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":68},"generated":{"line":1,"column":1927}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":73},"generated":{"line":1,"column":1932}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":82},"generated":{"line":1,"column":1941}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":86},"generated":{"line":1,"column":1943}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":91},"generated":{"line":1,"column":1948}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":104},"generated":{"line":1,"column":1961}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":113},"generated":{"line":1,"column":1970}},{"source":"js/base.ts","name":null,"original":{"line":136,"column":117},"generated":{"line":1,"column":1972}},{"source":"js/base.ts","name":null,"original":{"line":137,"column":16},"generated":{"line":1,"column":1974}},{"source":"js/base.ts","name":null,"original":{"line":137,"column":21},"generated":{"line":1,"column":1979}},{"source":"js/base.ts","name":null,"original":{"line":137,"column":34},"generated":{"line":1,"column":1992}},{"source":"js/base.ts","name":null,"original":{"line":137,"column":43},"generated":{"line":1,"column":2001}},{"source":"js/base.ts","name":null,"original":{"line":137,"column":47},"generated":{"line":1,"column":2003}},{"source":"js/base.ts","name":null,"original":{"line":137,"column":52},"generated":{"line":1,"column":2008}},{"source":"js/base.ts","name":null,"original":{"line":137,"column":61},"generated":{"line":1,"column":2017}},{"source":"js/base.ts","name":null,"original":{"line":138,"column":19},"generated":{"line":1,"column":2019}},{"source":"js/base.ts","name":null,"original":{"line":138,"column":19},"generated":{"line":1,"column":2024}},{"source":"js/base.ts","name":null,"original":{"line":138,"column":28},"generated":{"line":1,"column":2033}},{"source":"js/base.ts","name":null,"original":{"line":138,"column":33},"generated":{"line":1,"column":2036}},{"source":"js/base.ts","name":null,"original":{"line":139,"column":23},"generated":{"line":1,"column":2038}},{"source":"js/base.ts","name":null,"original":{"line":139,"column":28},"generated":{"line":1,"column":2043}},{"source":"js/base.ts","name":null,"original":{"line":139,"column":41},"generated":{"line":1,"column":2056}},{"source":"js/base.ts","name":null,"original":{"line":139,"column":50},"generated":{"line":1,"column":2065}},{"source":"js/base.ts","name":null,"original":{"line":139,"column":54},"generated":{"line":1,"column":2067}},{"source":"js/base.ts","name":null,"original":{"line":139,"column":59},"generated":{"line":1,"column":2072}},{"source":"js/base.ts","name":null,"original":{"line":139,"column":68},"generated":{"line":1,"column":2081}},{"source":"js/base.ts","name":null,"original":{"line":140,"column":19},"generated":{"line":1,"column":2085}},{"source":"js/base.ts","name":null,"original":{"line":140,"column":19},"generated":{"line":1,"column":2090}},{"source":"js/base.ts","name":null,"original":{"line":140,"column":28},"generated":{"line":1,"column":2099}},{"source":"js/base.ts","name":null,"original":{"line":140,"column":33},"generated":{"line":1,"column":2102}},{"source":"js/base.ts","name":null,"original":{"line":143,"column":12},"generated":{"line":1,"column":2105}},{"source":"js/base.ts","name":null,"original":{"line":143,"column":20},"generated":{"line":1,"column":2107}},{"source":"js/base.ts","name":null,"original":{"line":143,"column":24},"generated":{"line":1,"column":2110}},{"source":"js/base.ts","name":null,"original":{"line":146,"column":28},"generated":{"line":1,"column":2113}},{"source":"js/base.ts","name":null,"original":{"line":146,"column":14},"generated":{"line":1,"column":2117}},{"source":"js/base.ts","name":null,"original":{"line":146,"column":22},"generated":{"line":1,"column":2119}},{"source":"js/base.ts","name":null,"original":{"line":146,"column":50},"generated":{"line":1,"column":2123}},{"source":"js/base.ts","name":null,"original":{"line":146,"column":36},"generated":{"line":1,"column":2127}},{"source":"js/base.ts","name":null,"original":{"line":146,"column":44},"generated":{"line":1,"column":2129}},{"source":"js/base.ts","name":null,"original":{"line":147,"column":17},"generated":{"line":1,"column":2133}},{"source":"js/base.ts","name":null,"original":{"line":147,"column":17},"generated":{"line":1,"column":2138}},{"source":"js/base.ts","name":null,"original":{"line":147,"column":25},"generated":{"line":1,"column":2144}},{"source":"js/base.ts","name":null,"original":{"line":148,"column":17},"generated":{"line":1,"column":2152}},{"source":"js/base.ts","name":null,"original":{"line":148,"column":17},"generated":{"line":1,"column":2157}},{"source":"js/base.ts","name":null,"original":{"line":151,"column":15},"generated":{"line":1,"column":2177}},{"source":"js/base.ts","name":null,"original":{"line":151,"column":15},"generated":{"line":1,"column":2182}},{"source":"js/base.ts","name":null,"original":{"line":151,"column":23},"generated":{"line":1,"column":2188}},{"source":"js/base.ts","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":2195}},{"source":"js/base.ts","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":2200}},{"source":"js/base.ts","name":null,"original":{"line":156,"column":4},"generated":{"line":1,"column":2215}},{"source":"js/base.ts","name":null,"original":{"line":156,"column":4},"generated":{"line":1,"column":2217}},{"source":"js/base.ts","name":null,"original":{"line":156,"column":4},"generated":{"line":1,"column":2227}},{"source":"js/base.ts","name":null,"original":{"line":156,"column":4},"generated":{"line":1,"column":2243}},{"source":"js/base.ts","name":null,"original":{"line":157,"column":12},"generated":{"line":1,"column":2254}},{"source":"js/base.ts","name":null,"original":{"line":157,"column":17},"generated":{"line":1,"column":2259}},{"source":"js/base.ts","name":null,"original":{"line":158,"column":14},"generated":{"line":1,"column":2273}},{"source":"js/base.ts","name":null,"original":{"line":158,"column":19},"generated":{"line":1,"column":2278}},{"source":"js/base.ts","name":null,"original":{"line":158,"column":32},"generated":{"line":1,"column":2291}},{"source":"js/base.ts","name":null,"original":{"line":158,"column":41},"generated":{"line":1,"column":2298}},{"source":"js/base.ts","name":null,"original":{"line":159,"column":34},"generated":{"line":1,"column":2302}},{"source":"js/base.ts","name":null,"original":{"line":159,"column":16},"generated":{"line":1,"column":2312}},{"source":"js/base.ts","name":null,"original":{"line":159,"column":21},"generated":{"line":1,"column":2317}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":19},"generated":{"line":1,"column":2326}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":19},"generated":{"line":1,"column":2331}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":32},"generated":{"line":1,"column":2344}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":41},"generated":{"line":1,"column":2351}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":46},"generated":{"line":1,"column":2356}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":52},"generated":{"line":1,"column":2362}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":57},"generated":{"line":1,"column":2367}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":70},"generated":{"line":1,"column":2380}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":79},"generated":{"line":1,"column":2387}},{"source":"js/base.ts","name":null,"original":{"line":160,"column":84},"generated":{"line":1,"column":2392}},{"source":"js/base.ts","name":null,"original":{"line":161,"column":41},"generated":{"line":1,"column":2406}},{"source":"js/base.ts","name":null,"original":{"line":161,"column":23},"generated":{"line":1,"column":2417}},{"source":"js/base.ts","name":null,"original":{"line":161,"column":28},"generated":{"line":1,"column":2422}},{"source":"js/base.ts","name":null,"original":{"line":162,"column":14},"generated":{"line":1,"column":2432}},{"source":"js/base.ts","name":null,"original":{"line":162,"column":22},"generated":{"line":1,"column":2440}},{"source":"js/base.ts","name":null,"original":{"line":162,"column":26},"generated":{"line":1,"column":2444}},{"source":"js/base.ts","name":null,"original":{"line":165,"column":14},"generated":{"line":1,"column":2455}},{"source":"js/base.ts","name":null,"original":{"line":165,"column":19},"generated":{"line":1,"column":2460}},{"source":"js/base.ts","name":null,"original":{"line":165,"column":32},"generated":{"line":1,"column":2473}},{"source":"js/base.ts","name":null,"original":{"line":165,"column":42},"generated":{"line":1,"column":2481}},{"source":"js/base.ts","name":null,"original":{"line":166,"column":17},"generated":{"line":1,"column":2485}},{"source":"js/base.ts","name":null,"original":{"line":166,"column":17},"generated":{"line":1,"column":2490}},{"source":"js/base.ts","name":null,"original":{"line":166,"column":25},"generated":{"line":1,"column":2496}},{"source":"js/base.ts","name":null,"original":{"line":167,"column":17},"generated":{"line":1,"column":2503}},{"source":"js/base.ts","name":null,"original":{"line":167,"column":17},"generated":{"line":1,"column":2508}},{"source":"js/base.ts","name":null,"original":{"line":170,"column":15},"generated":{"line":1,"column":2525}},{"source":"js/base.ts","name":null,"original":{"line":170,"column":15},"generated":{"line":1,"column":2530}},{"source":"js/base.ts","name":null,"original":{"line":170,"column":23},"generated":{"line":1,"column":2536}},{"source":"js/base.ts","name":null,"original":{"line":171,"column":15},"generated":{"line":1,"column":2543}},{"source":"js/base.ts","name":null,"original":{"line":171,"column":15},"generated":{"line":1,"column":2548}},{"source":"js/base.ts","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":2564}},{"source":"js/base.ts","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":2566}},{"source":"js/base.ts","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":2576}},{"source":"js/base.ts","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":2588}},{"source":"js/base.ts","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":2599}},{"source":"js/base.ts","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":2603}},{"source":"js/base.ts","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":2605}},{"source":"js/base.ts","name":null,"original":{"line":189,"column":12},"generated":{"line":1,"column":2610}},{"source":"js/base.ts","name":null,"original":{"line":176,"column":28},"generated":{"line":1,"column":2612}},{"source":"js/base.ts","name":null,"original":{"line":177,"column":25},"generated":{"line":1,"column":2623}},{"source":"js/base.ts","name":null,"original":{"line":177,"column":32},"generated":{"line":1,"column":2630}},{"source":"js/base.ts","name":null,"original":{"line":177,"column":37},"generated":{"line":1,"column":2635}},{"source":"js/base.ts","name":null,"original":{"line":177,"column":42},"generated":{"line":1,"column":2637}},{"source":"js/base.ts","name":null,"original":{"line":177,"column":49},"generated":{"line":1,"column":2644}},{"source":"js/base.ts","name":null,"original":{"line":178,"column":13},"generated":{"line":1,"column":2655}},{"source":"js/base.ts","name":null,"original":{"line":178,"column":13},"generated":{"line":1,"column":2659}},{"source":"js/base.ts","name":null,"original":{"line":178,"column":17},"generated":{"line":1,"column":2663}},{"source":"js/base.ts","name":null,"original":{"line":178,"column":24},"generated":{"line":1,"column":2668}},{"source":"js/base.ts","name":null,"original":{"line":178,"column":29},"generated":{"line":1,"column":2670}},{"source":"js/base.ts","name":null,"original":{"line":178,"column":36},"generated":{"line":1,"column":2677}},{"source":"js/base.ts","name":null,"original":{"line":178,"column":47},"generated":{"line":1,"column":2687}},{"source":"js/base.ts","name":null,"original":{"line":179,"column":16},"generated":{"line":1,"column":2688}},{"source":"js/base.ts","name":null,"original":{"line":179,"column":16},"generated":{"line":1,"column":2692}},{"source":"js/base.ts","name":null,"original":{"line":179,"column":29},"generated":{"line":1,"column":2694}},{"source":"js/base.ts","name":null,"original":{"line":179,"column":34},"generated":{"line":1,"column":2696}},{"source":"js/base.ts","name":null,"original":{"line":179,"column":41},"generated":{"line":1,"column":2703}},{"source":"js/base.ts","name":null,"original":{"line":179,"column":51},"generated":{"line":1,"column":2713}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":14},"generated":{"line":1,"column":2716}},{"source":"js/base.ts","name":null,"original":{"line":180,"column":24},"generated":{"line":1,"column":2723}},{"source":"js/base.ts","name":null,"original":{"line":180,"column":29},"generated":{"line":1,"column":2728}},{"source":"js/base.ts","name":null,"original":{"line":180,"column":33},"generated":{"line":1,"column":2732}},{"source":"js/base.ts","name":null,"original":{"line":180,"column":38},"generated":{"line":1,"column":2734}},{"source":"js/base.ts","name":null,"original":{"line":180,"column":47},"generated":{"line":1,"column":2743}},{"source":"js/base.ts","name":null,"original":{"line":180,"column":51},"generated":{"line":1,"column":2745}},{"source":"js/base.ts","name":null,"original":{"line":180,"column":56},"generated":{"line":1,"column":2747}},{"source":"js/base.ts","name":null,"original":{"line":180,"column":65},"generated":{"line":1,"column":2756}},{"source":"js/base.ts","name":null,"original":{"line":180,"column":68},"generated":{"line":1,"column":2758}},{"source":"js/base.ts","name":null,"original":{"line":181,"column":24},"generated":{"line":1,"column":2761}},{"source":"js/base.ts","name":null,"original":{"line":181,"column":29},"generated":{"line":1,"column":2766}},{"source":"js/base.ts","name":null,"original":{"line":181,"column":33},"generated":{"line":1,"column":2770}},{"source":"js/base.ts","name":null,"original":{"line":181,"column":38},"generated":{"line":1,"column":2772}},{"source":"js/base.ts","name":null,"original":{"line":181,"column":47},"generated":{"line":1,"column":2781}},{"source":"js/base.ts","name":null,"original":{"line":181,"column":51},"generated":{"line":1,"column":2783}},{"source":"js/base.ts","name":null,"original":{"line":181,"column":56},"generated":{"line":1,"column":2785}},{"source":"js/base.ts","name":null,"original":{"line":181,"column":65},"generated":{"line":1,"column":2794}},{"source":"js/base.ts","name":null,"original":{"line":181,"column":68},"generated":{"line":1,"column":2796}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":31},"generated":{"line":1,"column":2799}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":36},"generated":{"line":1,"column":2804}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":60},"generated":{"line":1,"column":2808}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":40},"generated":{"line":1,"column":2810}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":45},"generated":{"line":1,"column":2812}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":63},"generated":{"line":1,"column":2825}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":69},"generated":{"line":1,"column":2829}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":74},"generated":{"line":1,"column":2831}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":88},"generated":{"line":1,"column":2843}},{"source":"js/base.ts","name":null,"original":{"line":182,"column":93},"generated":{"line":1,"column":2845}},{"source":"js/base.ts","name":null,"original":{"line":183,"column":19},"generated":{"line":1,"column":2855}},{"source":"js/base.ts","name":null,"original":{"line":185,"column":17},"generated":{"line":1,"column":2862}},{"source":"js/base.ts","name":null,"original":{"line":189,"column":25},"generated":{"line":1,"column":2865}},{"source":"js/base.ts","name":null,"original":{"line":190,"column":10},"generated":{"line":1,"column":2868}},{"source":"js/base.ts","name":null,"original":{"line":190,"column":24},"generated":{"line":1,"column":2871}},{"source":"js/base.ts","name":null,"original":{"line":190,"column":35},"generated":{"line":1,"column":2873}},{"source":"js/base.ts","name":null,"original":{"line":190,"column":44},"generated":{"line":1,"column":2880}},{"source":"js/base.ts","name":null,"original":{"line":191,"column":13},"generated":{"line":1,"column":2884}},{"source":"js/base.ts","name":null,"original":{"line":191,"column":13},"generated":{"line":1,"column":2889}},{"source":"js/base.ts","name":null,"original":{"line":191,"column":28},"generated":{"line":1,"column":2902}},{"source":"js/base.ts","name":null,"original":{"line":192,"column":13},"generated":{"line":1,"column":2904}},{"source":"js/base.ts","name":null,"original":{"line":192,"column":13},"generated":{"line":1,"column":2909}},{"source":"js/base.ts","name":null,"original":{"line":192,"column":21},"generated":{"line":1,"column":2915}},{"source":"js/base.ts","name":null,"original":{"line":193,"column":13},"generated":{"line":1,"column":2924}},{"source":"js/base.ts","name":null,"original":{"line":193,"column":13},"generated":{"line":1,"column":2929}},{"source":"js/base.ts","name":null,"original":{"line":197,"column":0},"generated":{"line":1,"column":2945}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":2947}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":2950}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":2958}},{"source":"js/base.ts","name":null,"original":{"line":3,"column":13},"generated":{"line":1,"column":2963}}],"sources":{"js/base.ts":"import { Engine } from \"./engine\";\n\nexport class Base {\n  engine: Engine;\n  uuid:string;\n  health: number;\n  coins: number;\n  name: string;\n  unitType: string;\n  location: {x: number, y: number};\n  teamIndex: number;\n  state: string;\n  stateTimer: {idle: boolean, charge: boolean, fight: boolean};\n  \n  movementSpeed: number;\n  attackTarget: Base;\n  attackRadius: number;\n  attackSpeed: number;\n  attackDamage: number;\n\n    constructor(engine) {\n        this.engine = engine;\n        this.health = 100;\n        this.coins = 1;\n        this.name = '';\n        this.unitType = '';\n        this.location = {x: 0, y: 0};\n        this.teamIndex = 0;\n        this.state = 'IDLE';\n\n        this.movementSpeed = 30;\n        this.attackTarget = null;\n        this.attackRadius = 30;\n        this.attackSpeed = 60;\n        this.attackDamage = 20;\n        this.stateTimer = {idle: false, charge: false, fight: false};\n    }\n\n    init() {\n        this.changeState();\n        // gifler('../img/poke.gif').get().then(data => {\n        //   this.testGif = data;\n        //   setInterval(() => {\n        //     this.testGif._advanceFrame();\n        //   }, 100);\n        // });\n    }\n\n    tick() {\n      if (this.health <= 0) {\n        delete this.engine.unitStack[this.uuid];\n        this.attackTarget = null;\n        this.state = 'NONE';\n      }\n\n    }\n\n    idle() {\n        if (this.state === 'IDLE' && this.health > 0) {\n          this.moveForward();\n          this.detectEnemy();\n          if (this.stateTimer.idle === false) {\n            this.stateTimer.idle = true;\n            setTimeout(() => {\n              this.stateTimer.idle = false;\n              this.idle();\n            }, this.movementSpeed);\n          }\n        }\n    }\n    \n    charge() {\n        if (this.state === 'CHARGE' && this.health > 0) {\n          this.moveTowardEnemyUnit();\n          if (this.stateTimer.charge === false) {\n            this.stateTimer.charge = true;\n            setTimeout(() => {\n              this.stateTimer.charge = false;\n              this.charge();\n            }, this.movementSpeed);\n          }\n        }\n      }\n    \n      fight() {\n        if (this.state === 'FIGHT' && this.health > 0) {\n          this.attackEnemyUnit();\n          if (this.stateTimer.fight === false) {\n            this.stateTimer.fight = true;\n            setTimeout(() => {\n              this.stateTimer.fight = false;\n              this.fight();\n            }, this.attackSpeed);\n          }\n        }\n      }\n\n    changeState() {\n        if (this.state === 'IDLE') {\n          this.idle();\n        }\n        if (this.state === 'CHARGE') {\n          this.charge();\n        }\n        if (this.state === 'FIGHT') {\n          this.fight();\n        }\n    }\n\n    moveForward() {\n        if (this.teamIndex === 1) {\n          this.location.y -= 1;\n        } else {\n          this.location.y += 1;\n        }\n    \n        // if out of bounds, remove unit\n        if (this.location.y > this.engine.canvas.height || this.location.y < 0) {\n          this.health = 0;\n        }\n    }\n\n    moveTowardEnemyUnit() {\n        if (this.attackTarget) {\n          const atEnemy = {x: false, y: false};\n          if (this.location.x > this.attackTarget.location.x + 6 || this.location.x < this.attackTarget.location.x - 6) {\n            if (this.attackTarget.location.x > this.location.x) {\n              this.location.x += 1;\n            } else if (this.attackTarget.location.x < this.location.x) {\n              this.location.x -= 1;\n            }\n          } else {\n            atEnemy.x = true;\n          }\n    \n          if (this.location.y > this.attackTarget.location.y + 6 || this.location.y < this.attackTarget.location.y - 6) {\n            if (this.attackTarget.location.y > this.location.y) {\n              this.location.y += 1;\n            } else if (this.attackTarget.location.y < this.location.y) {\n              this.location.y -= 1;\n            }\n          } else {\n            atEnemy.y = true;\n          }\n    \n          if (atEnemy.x === true && atEnemy.y === true) {\n            this.state = 'FIGHT';\n            this.changeState();\n          }\n        } else {\n          this.state = 'IDLE';\n          this.changeState();\n        }\n    }\n    \n    attackEnemyUnit() {\n        if (this.attackTarget) {\n          if (this.attackTarget.health > 0) {\n            if (this.unitType === 'melee') {\n              this.attackTarget.health = Math.round(this.attackTarget.health - this.attackDamage);\n            } else if (this.unitType === 'ranged') {\n              console.log('ranged');\n            }\n          }\n          if (this.attackTarget.health <= 0) {\n            this.state = 'IDLE';\n            this.changeState();\n          }\n        } else {\n          this.state = 'IDLE';\n          this.changeState();\n        }\n    }\n    \n    detectEnemy() {\n      const getInstigator = () => {\n        const unitList = Object.keys(this.engine.unitStack);\n        for (let key in this.engine.unitStack) {\n          const unit: Base = this.engine.unitStack[key];\n          const xCalc = Math.pow(unit.location.x - this.location.x, 2);\n          const yCalc = Math.pow(unit.location.y - this.location.y, 2);\n          if (xCalc + yCalc  < Math.pow(this.attackRadius * 2, 2) && unit.teamIndex !== this.teamIndex) {\n            return unit;\n          }\n          return undefined;\n\n        }\n      }\n      const instigator = getInstigator();\n      if (instigator && instigator.health > 0) {\n        this.attackTarget = instigator;\n        this.state = 'CHARGE';\n        this.changeState();\n      }\n    \n    }\n}\n"},"lineCount":null}},"error":null,"hash":"c7c017dfa3ab29fb7fe82e8ed84395bf","cacheData":{"env":{}}}